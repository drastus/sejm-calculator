(()=>{var e={50:e=>{function t(e){var t=""+e,i=a.exec(t);if(!i)return e;var n,s,r,o="";for(n=i.index,s=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==n&&(o+=t.substring(s,n)),s=n+1,o+=r}return s!==n?o+t.substring(s,n):o}var a=/["&<>]/;e.exports=function(e){var a,i="",n=e||{};return function(e,n,s,r){i=i+'<div class="constituency"><h2>Okręg '+t(null==(a=s)?"":a)+" "+t(null==(a=n)?"":a)+"</h2><table><tr><th>Komitet</th><th>Poparcie</th><th>Mandaty</th></tr>",function(){var n=e;if("number"==typeof n.length)for(var s=0,r=n.length;s<r;s++){var o=n[s];i=i+"<tr><td>"+t(null==(a=o.committee.name)?"":a)+"</td><td>"+t(null==(a=o.support.toLocaleString("pl",{minimumFractionDigits:1,maximumFractionDigits:1}))?"":a)+"%</td><td>"+t(null==(a=o.mandates)?"":a)+"</td></tr>"}else for(var s in r=0,n)r++,o=n[s],i=i+"<tr><td>"+t(null==(a=o.committee.name)?"":a)+"</td><td>"+t(null==(a=o.support.toLocaleString("pl",{minimumFractionDigits:1,maximumFractionDigits:1}))?"":a)+"%</td><td>"+t(null==(a=o.mandates)?"":a)+"</td></tr>"}.call(this),i=i+"</table><p>Łącznie "+t(null==(a=r)?"":a)+" mandatów</p></div>"}.call(this,"data"in n?n.data:"undefined"!=typeof data?data:void 0,"name"in n?n.name:"undefined"!=typeof name?name:void 0,"number"in n?n.number:"undefined"!=typeof number?number:void 0,"size"in n?n.size:"undefined"!=typeof size?size:void 0),i}},587:e=>{function t(e,n){return Array.isArray(e)?function(e,i){for(var n,s="",r="",o=Array.isArray(i),l=0;l<e.length;l++)(n=t(e[l]))&&(o&&i[l]&&(n=a(n)),s=s+r+n,r=" ");return s}(e,n):e&&"object"==typeof e?function(e){var t="",a="";for(var n in e)n&&e[n]&&i.call(e,n)&&(t=t+a+n,a=" ");return t}(e):e||""}function a(e){var t=""+e,a=n.exec(t);if(!a)return e;var i,s,r,o="";for(i=a.index,s=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==i&&(o+=t.substring(s,i)),s=i+1,o+=r}return s!==i?o+t.substring(s,i):o}var i=Object.prototype.hasOwnProperty,n=/["&<>]/;e.exports=function(e){var a="",i=e||{};return function(e){a=a+"<main"+function(e,t,a,i){if(!1===t||null==t||!t)return"";if(!0===t)return" "+e;var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||-1===(t=JSON.stringify(t)).indexOf('"')?' class="'+t+'"':" class='"+t.replace(/'/g,"&#39;")+"'"}("class",t([e?"embed":""],[!0]))+">",e||(a+='<h1>Kalkulator mandatów w wyborach do Sejmu</h1><p>Kalkulator zwraca szacowany rozkład mandatów w Sejmie na podstawie wyników sondażowych.\nObliczenia są dokonywane zgodnie z obowiązującą w Polsce ordynacją wyborczą, tj. stosując\nmetodę D’Hondta osobno w każdym z 41 okręgów wyborczych.</p><p>Dodatkowo poparcie dla poszczególnych komitetów w okręgach jest różnicowane na podstawie\nszczegółowych wyników ostatnich wyborów parlamentarnych. Ugrupowanie, które w danym okręgu miało\nwtedy poparcie wyższe/niższe niż w całym kraju, również w tej symulacji będzie miało w tym\nokręgu odpowiednio wyższe/niższe poparcie. Pozwala to na sporządzenie szczegółowej prognozy\npodziału mandatów na poziomie poszczególnych okręgów.</p><p class="updates-texts">Aktualizacje:</p><ol class="updates updates-texts"><li>2019-11-15: od teraz w prognozie brane są pod uwagę wyniki wyborów do Sejmu z 2019 roku.</li><li>2020-10-28: dodano partię polityczną Polska 2050; jej prognozowane poparcie w okręgach jest\nliczone na podstawie deklaracji wyborców Szymona Hołowni przedstawionych w artykule\n<a href="https://biqdata.wyborcza.pl/biqdata/7,159116,26083709,analiza-przeplywow-wyborcow-za-duda-tylko-pis-lewicowcy-nie.html"><cite>Analiza przepływów wyborców</cite></a> z 29 czerwca 2020 roku.</li><li>2023-08-21: dodano koalicyjny komitet wyborczy Trzecia Droga (Polska 2050 + PSL – Koalicja Polska).</li><li>2023-10-20: od teraz w prognozie brane są pod uwagę wyniki wyborów do Sejmu z 2023 roku.</li><li>2025-07-04: uwzględniono Partię Razem, Koronę oraz rozpad Trzeciej Drogi; prognozowane poparcie\nw okręgach jest liczone na podstawie <a href="https://wiadomosci.onet.pl/kraj/duzy-sukces-karola-nawrockiego-ma-do-rozwiazania-kluczowy-problem-analiza/wrphc1v">deklaracji wyborców Grzegorza Brauna i Adriana Zandberga</a>.\n\n</li></ol>'),a+='<form id="support-form"><button id="calculate-button">Oblicz</button></form>',e||(a+='<div id="url"></div>'),a+='<div class="charts-row"><div class="ct-chart" id="support-bar-chart"></div><div class="ct-chart" id="division-pie-chart"></div></div>',e||(a+='<div id="constituency-results"></div>'),a+="</main>",e||(a+='<footer><a class="github" href="https://github.com/drastus/sejm-calculator">Kod źródłowy</a><address>Kontakt: zrchos na serwerze gmail.com</address></footer>')}.call(this,"embed"in i?i.embed:"undefined"!=typeof embed?embed:void 0),a}},438:e=>{e.exports=function(e){return""+'<object id="constituencies-map"></object><div id="constituency-result"><p class="info"><em>Kliknij okręg, by zobaczyć szczegółowe wyniki.</em></p></div>'}},253:e=>{function t(e,t,a,n){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(n?e:e+'="'+e+'"');var s=typeof t;return"object"!==s&&"function"!==s||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),a||-1===t.indexOf('"'))?(a&&(t=i(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function a(e,t){return Array.isArray(e)?function(e,t){for(var n,s="",r="",o=Array.isArray(t),l=0;l<e.length;l++)(n=a(e[l]))&&(o&&t[l]&&(n=i(n)),s=s+r+n,r=" ");return s}(e,t):e&&"object"==typeof e?function(e){var t="",a="";for(var i in e)i&&e[i]&&n.call(e,i)&&(t=t+a+i,a=" ");return t}(e):e||""}function i(e){var t=""+e,a=s.exec(t);if(!a)return e;var i,n,r,o="";for(i=a.index,n=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}n!==i&&(o+=t.substring(n,i)),n=i+1,o+=r}return n!==i?o+t.substring(n,i):o}var n=Object.prototype.hasOwnProperty,s=/["&<>]/;function r(e){if(!e)return"";if("object"==typeof e){var t="";for(var a in e)n.call(e,a)&&(t=t+a+":"+e[a]+";");return t}return e+""}e.exports=function(e){var n,s="",o=e||{};return function(e){s+="<table><tr><th>Komitet</th><th>Poparcie</th><th>Mandaty</th></tr>",function(){var o=e;if("number"==typeof o.length)for(var l=0,c=o.length;l<c;l++){var d=o[l];s=s+"<tr"+(t("class",a([d.id],[!0]),!1,!0)+t("style",r("mn"==d.id?"display: none":""),!0,!0))+"><td><label"+t("for",d.id,!0,!0)+">"+i(null==(n=d.name)?"":n)+"</label></td><td>","mn"!==d.id&&(s=s+'<input type="number" step="any" min="0" max="100"'+t("id",d.id,!0,!0)+t("name",d.id,!0,!0)+">%"),s+="</td><td></td></tr>"}else for(var l in c=0,o)c++,d=o[l],s=s+"<tr"+(t("class",a([d.id],[!0]),!1,!0)+t("style",r("mn"==d.id?"display: none":""),!0,!0))+"><td><label"+t("for",d.id,!0,!0)+">"+i(null==(n=d.name)?"":n)+"</label></td><td>","mn"!==d.id&&(s=s+'<input type="number" step="any" min="0" max="100"'+t("id",d.id,!0,!0)+t("name",d.id,!0,!0)+">%"),s+="</td><td></td></tr>"}.call(this),s+="</table>"}.call(this,"committees"in o?o.committees:"undefined"!=typeof committees?committees:void 0),s}}},t={};function a(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,a),s.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var n=i.length-1;n>-1&&!e;)e=i[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{"use strict";const e={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},t=8,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function n(e,t){return"number"==typeof e?e+t:e}function s(e){if("string"==typeof e){const t=/^(\d+)\s*(.*)$/g.exec(e);return{value:t?+t[1]:0,unit:(null==t?void 0:t[2])||void 0}}return{value:Number(e)}}function r(e){return String.fromCharCode(97+e%26)}const o=2221e-19;function l(e,t,a){return t/a.range*e}function c(e,a){const i=Math.pow(10,a||t);return Math.round(e*i)/i}function d(e,t,a,i){const n=(i-90)*Math.PI/180;return{x:e+a*Math.cos(n),y:t+a*Math.sin(n)}}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];for(let t=0;t<a.length;t++){const i=a[t];for(const t in i){const a=i[t];e[t]="object"!=typeof a||null===a||a instanceof Array?a:u(e[t],a)}}return e}const h=e=>e;function p(e,t){return Array.from({length:e},t?(e,a)=>t(a):()=>{})}const m=(e,t)=>e+(t||0);function f(e,t){return null!==e&&"object"==typeof e&&Reflect.has(e,t)}function g(e){return null!==e&&isFinite(e)}function y(e){return!e&&0!==e}function w(e){return g(e)?Number(e):void 0}function v(e){return null==e||"number"==typeof e&&isNaN(e)}function x(e,t,a){const i={high:void 0===(t={...t,...a?"x"===a?t.axisX:t.axisY:{}}).high?-Number.MAX_VALUE:+t.high,low:void 0===t.low?Number.MAX_VALUE:+t.low},n=void 0===t.high,s=void 0===t.low;return(n||s)&&function e(t){if(!v(t))if(Array.isArray(t))for(let a=0;a<t.length;a++)e(t[a]);else{const e=Number(a&&f(t,a)?t[a]:t);n&&e>i.high&&(i.high=e),s&&e<i.low&&(i.low=e)}}(e),(t.referenceValue||0===t.referenceValue)&&(i.high=Math.max(t.referenceValue,i.high),i.low=Math.min(t.referenceValue,i.low)),i.high<=i.low&&(0===i.low?i.high=1:i.low<0?i.high=0:(i.high>0||(i.high=1),i.low=0)),i}function b(e){let t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const s={labels:(e.labels||[]).slice(),series:E(e.series,i,n)},r=s.labels.length;return function(e){return!!Array.isArray(e)&&e.every(Array.isArray)}(s.series)?(t=Math.max(r,...s.series.map((e=>e.length))),s.series.forEach((e=>{e.push(...p(Math.max(0,t-e.length)))}))):t=s.series.length,s.labels.push(...p(Math.max(0,t-r),(()=>""))),a&&function(e){var t;null===(t=e.labels)||void 0===t||t.reverse(),e.series.reverse();for(const t of e.series)f(t,"data")?t.data.reverse():Array.isArray(t)&&t.reverse()}(s),s}function k(e,t){if(!v(e))return t?function(e,t){let a,i;if("object"!=typeof e){const n=w(e);"x"===t?a=n:i=n}else f(e,"x")&&(a=w(e.x)),f(e,"y")&&(i=w(e.y));if(void 0!==a||void 0!==i)return{x:a,y:i}}(e,t):w(e)}function z(e,t){return Array.isArray(e)?e.map((e=>f(e,"value")?k(e.value,t):k(e,t))):z(e.data,t)}function E(e,t,a){if(i=e,Array.isArray(i)&&i.every((e=>Array.isArray(e)||f(e,"data"))))return e.map((e=>z(e,t)));var i;const n=z(e,t);return a?n.map((e=>[e])):n}function S(e){let t="";return null==e?e:(t="number"==typeof e?""+e:"object"==typeof e?JSON.stringify({data:e}):String(e),Object.keys(i).reduce(((e,t)=>e.replaceAll(t,i[t])),t))}class j{call(e,t){return this.svgElements.forEach((a=>Reflect.apply(a[e],a,t))),this}attr(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.call("attr",t)}elem(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.call("elem",t)}root(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.call("root",t)}getNode(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.call("getNode",t)}foreignObject(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.call("foreignObject",t)}text(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.call("text",t)}empty(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.call("empty",t)}remove(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.call("remove",t)}addClass(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.call("addClass",t)}removeClass(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.call("removeClass",t)}removeAllClasses(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.call("removeAllClasses",t)}animate(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.call("animate",t)}constructor(e){this.svgElements=[];for(let t=0;t<e.length;t++)this.svgElements.push(new M(e[t]))}}const A={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function L(e,t,a){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0;const{easing:o,...l}=a,c={};let d,u;o&&(d=Array.isArray(o)?o:A[o]),l.begin=n(l.begin,"ms"),l.dur=n(l.dur,"ms"),d&&(l.calcMode="spline",l.keySplines=d.join(" "),l.keyTimes="0;1"),i&&(l.fill="freeze",c[t]=l.from,e.attr(c),u=s(l.begin||0).value,l.begin="indefinite");const h=e.elem("animate",{attributeName:t,...l});i&&setTimeout((()=>{try{h._node.beginElement()}catch(a){c[t]=l.to,e.attr(c),h.remove()}}),u);const p=h.getNode();r&&p.addEventListener("beginEvent",(()=>r.emit("animationBegin",{element:e,animate:p,params:a}))),p.addEventListener("endEvent",(()=>{r&&r.emit("animationEnd",{element:e,animate:p,params:a}),i&&(c[t]=l.to,e.attr(c),h.remove())}))}class M{attr(t,a){return"string"==typeof t?a?this._node.getAttributeNS(a,t):this._node.getAttribute(t):(Object.keys(t).forEach((a=>{if(void 0!==t[a])if(-1!==a.indexOf(":")){const i=a.split(":");this._node.setAttributeNS(e[i[0]],a,String(t[a]))}else this._node.setAttribute(a,String(t[a]))})),this)}elem(e,t,a){return new M(e,t,a,this,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}parent(){return this._node.parentNode instanceof SVGElement?new M(this._node.parentNode):null}root(){let e=this._node;for(;"svg"!==e.nodeName&&e.parentElement;)e=e.parentElement;return new M(e)}querySelector(e){const t=this._node.querySelector(e);return t?new M(t):null}querySelectorAll(e){const t=this._node.querySelectorAll(e);return new j(t)}getNode(){return this._node}foreignObject(t,a,i){let n,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("string"==typeof t){const e=document.createElement("div");e.innerHTML=t,n=e.firstChild}else n=t;n instanceof Element&&n.setAttribute("xmlns",e.xmlns);const r=this.elem("foreignObject",a,i,s);return r._node.appendChild(n),r}text(e){return this._node.appendChild(document.createTextNode(e)),this}empty(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}remove(){var e;return null===(e=this._node.parentNode)||void 0===e||e.removeChild(this._node),this.parent()}replace(e){var t;return null===(t=this._node.parentNode)||void 0===t||t.replaceChild(e._node,this._node),e}append(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this}classes(){const e=this._node.getAttribute("class");return e?e.trim().split(/\s+/):[]}addClass(e){return this._node.setAttribute("class",this.classes().concat(e.trim().split(/\s+/)).filter((function(e,t,a){return a.indexOf(e)===t})).join(" ")),this}removeClass(e){const t=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes().filter((e=>-1===t.indexOf(e))).join(" ")),this}removeAllClasses(){return this._node.setAttribute("class",""),this}height(){return this._node.getBoundingClientRect().height}width(){return this._node.getBoundingClientRect().width}animate(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;return Object.keys(e).forEach((i=>{const n=e[i];Array.isArray(n)?n.forEach((e=>L(this,i,e,!1,a))):L(this,i,n,t,a)})),this}constructor(t,a,i,n,s=!1){t instanceof Element?this._node=t:(this._node=document.createElementNS(e.svg,t),"svg"===t&&this.attr({"xmlns:ct":e.ct})),a&&this.attr(a),i&&this.addClass(i),n&&(s&&n._node.firstChild?n._node.insertBefore(this._node,n._node.firstChild):n._node.appendChild(this._node))}}function O(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"100%",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100%",n=arguments.length>3?arguments[3]:void 0;Array.from(t.querySelectorAll("svg")).filter((t=>t.getAttributeNS(e.xmlns,"ct"))).forEach((e=>t.removeChild(e)));const s=new M("svg").attr({width:a,height:i}).attr({style:"width: ".concat(a,"; height: ").concat(i,";")});return n&&s.addClass(n),t.appendChild(s.getNode()),s}function N(e,t){var a,i,n,r;const o=Boolean(t.axisX||t.axisY),l=(null===(a=t.axisY)||void 0===a?void 0:a.offset)||0,c=(null===(i=t.axisX)||void 0===i?void 0:i.offset)||0,d=null===(n=t.axisY)||void 0===n?void 0:n.position,u=null===(r=t.axisX)||void 0===r?void 0:r.position;let h=e.width()||s(t.width).value||0,p=e.height()||s(t.height).value||0;const m="number"==typeof(f=t.chartPadding)?{top:f,right:f,bottom:f,left:f}:void 0===f?{top:0,right:0,bottom:0,left:0}:{top:"number"==typeof f.top?f.top:0,right:"number"==typeof f.right?f.right:0,bottom:"number"==typeof f.bottom?f.bottom:0,left:"number"==typeof f.left?f.left:0};var f;h=Math.max(h,l+m.left+m.right),p=Math.max(p,c+m.top+m.bottom);const g={x1:0,x2:0,y1:0,y2:0,padding:m,width(){return this.x2-this.x1},height(){return this.y1-this.y2}};return o?("start"===u?(g.y2=m.top+c,g.y1=Math.max(p-m.bottom,g.y2+1)):(g.y2=m.top,g.y1=Math.max(p-m.bottom-c,g.y2+1)),"start"===d?(g.x1=m.left+l,g.x2=Math.max(h-m.right,g.x1+1)):(g.x1=m.left,g.x2=Math.max(h-m.right-l,g.x1+1))):(g.x1=m.left,g.x2=Math.max(h-m.right,g.x1+1),g.y2=m.top,g.y1=Math.max(p-m.bottom,g.y2+1)),g}function C(e,t,a){let i;const n=[];function s(n){const s=i;i=u({},e),t&&t.forEach((e=>{window.matchMedia(e[0]).matches&&(i=u(i,e[1]))})),a&&n&&a.emit("optionsChanged",{previousOptions:s,currentOptions:i})}if(!window.matchMedia)throw new Error("window.matchMedia not found! Make sure you're using a polyfill.");return t&&t.forEach((e=>{const t=window.matchMedia(e[0]);t.addEventListener("change",s),n.push(t)})),s(),{removeMediaQueryListeners:function(){n.forEach((e=>e.removeEventListener("change",s)))},getCurrentOptions:()=>i}}M.Easing=A;const B={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},I={accuracy:3};function P(e,t,a,i,n,s){const r={command:n?e.toLowerCase():e.toUpperCase(),...t,...s?{data:s}:{}};a.splice(i,0,r)}function _(e,t){e.forEach(((a,i)=>{B[a.command.toLowerCase()].forEach(((n,s)=>{t(a,n,i,s,e)}))}))}class q{static join(e){const t=new q(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2?arguments[2]:void 0);for(let a=0;a<e.length;a++){const i=e[a];for(let e=0;e<i.pathElements.length;e++)t.pathElements.push(i.pathElements[e])}return t}position(e){return void 0!==e?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos}remove(e){return this.pathElements.splice(this.pos,e),this}move(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return P("M",{x:+e,y:+t},this.pathElements,this.pos++,a,i),this}line(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return P("L",{x:+e,y:+t},this.pathElements,this.pos++,a,i),this}curve(e,t,a,i,n,s){let r=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7?arguments[7]:void 0;return P("C",{x1:+e,y1:+t,x2:+a,y2:+i,x:+n,y:+s},this.pathElements,this.pos++,r,o),this}arc(e,t,a,i,n,s,r){let o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0;return P("A",{rx:e,ry:t,xAr:a,lAf:i,sf:n,x:s,y:r},this.pathElements,this.pos++,o,l),this}parse(e){const t=e.replace(/([A-Za-z])(-?[0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(((e,t)=>(t.match(/[A-Za-z]/)&&e.push([]),e[e.length-1].push(t),e)),[]);"Z"===t[t.length-1][0].toUpperCase()&&t.pop();const a=t.map((e=>{const t=e.shift(),a=B[t.toLowerCase()];return{command:t,...a.reduce(((t,a,i)=>(t[a]=+e[i],t)),{})}}));return this.pathElements.splice(this.pos,0,...a),this.pos+=a.length,this}stringify(){const e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(((t,a)=>{const i=B[a.command.toLowerCase()].map((t=>{const i=a[t];return this.options.accuracy?Math.round(i*e)/e:i}));return t+a.command+i.join(",")}),"")+(this.close?"Z":"")}scale(e,t){return _(this.pathElements,((a,i)=>{a[i]*="x"===i[0]?e:t})),this}translate(e,t){return _(this.pathElements,((a,i)=>{a[i]+="x"===i[0]?e:t})),this}transform(e){return _(this.pathElements,((t,a,i,n,s)=>{const r=e(t,a,i,n,s);(r||0===r)&&(t[a]=r)})),this}clone(){const e=new q(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.close);return e.pos=this.pos,e.pathElements=this.pathElements.slice().map((e=>({...e}))),e.options={...this.options},e}splitByCommand(e){const t=[new q];return this.pathElements.forEach((a=>{a.command===e.toUpperCase()&&0!==t[t.length-1].pathElements.length&&t.push(new q),t[t.length-1].pathElements.push(a)})),t}constructor(e=!1,t){this.close=e,this.pathElements=[],this.pos=0,this.options={...I,...t}}}class T{on(e,t){const{allListeners:a,listeners:i}=this;"*"===e?a.add(t):(i.has(e)||i.set(e,new Set),i.get(e).add(t))}off(e,t){const{allListeners:a,listeners:i}=this;if("*"===e)t?a.delete(t):a.clear();else if(i.has(e)){const a=i.get(e);t?a.delete(t):a.clear(),a.size||i.delete(e)}}emit(e,t){const{allListeners:a,listeners:i}=this;i.has(e)&&i.get(e).forEach((e=>e(t))),a.forEach((a=>a(e,t)))}constructor(){this.listeners=new Map,this.allListeners=new Set}}const R=new WeakMap;class V{update(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i;return e&&(this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),t&&(this.options=u({},a?this.options:this.defaultOptions,t),this.initializeTimeoutId||(null===(i=this.optionsProvider)||void 0===i||i.removeMediaQueryListeners(),this.optionsProvider=C(this.options,this.responsiveOptions,this.eventEmitter))),!this.initializeTimeoutId&&this.optionsProvider&&this.createChart(this.optionsProvider.getCurrentOptions()),this}detach(){var e;return this.initializeTimeoutId?window.clearTimeout(this.initializeTimeoutId):(window.removeEventListener("resize",this.resizeListener),null===(e=this.optionsProvider)||void 0===e||e.removeMediaQueryListeners()),R.delete(this.container),this}on(e,t){return this.eventEmitter.on(e,t),this}off(e,t){return this.eventEmitter.off(e,t),this}initialize(){window.addEventListener("resize",this.resizeListener),this.optionsProvider=C(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.on("optionsChanged",(()=>this.update())),this.options.plugins&&this.options.plugins.forEach((e=>{Array.isArray(e)?e[0](this,e[1]):e(this)})),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=null}constructor(e,t,a,i,n){this.data=t,this.defaultOptions=a,this.options=i,this.responsiveOptions=n,this.eventEmitter=new T,this.resizeListener=()=>this.update(),this.initializeTimeoutId=setTimeout((()=>this.initialize()),0);const s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error("Target element is not found");this.container=s;const r=R.get(s);r&&r.detach(),R.set(s,this)}}const D={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};class K{createGridAndLabels(e,t,a,i){const n="x"===this.units.pos?a.axisX:a.axisY,s=this.ticks.map(((e,t)=>this.projectValue(e,t))),r=this.ticks.map(n.labelInterpolationFnc);s.forEach(((o,l)=>{const c=r[l],d={x:0,y:0};let u;u=s[l+1]?s[l+1]-o:Math.max(this.axisLength-o,this.axisLength/this.ticks.length),""!==c&&y(c)||("x"===this.units.pos?(o=this.chartRect.x1+o,d.x=a.axisX.labelOffset.x,"start"===a.axisX.position?d.y=this.chartRect.padding.top+a.axisX.labelOffset.y+5:d.y=this.chartRect.y1+a.axisX.labelOffset.y+5):(o=this.chartRect.y1-o,d.y=a.axisY.labelOffset.y-u,"start"===a.axisY.position?d.x=this.chartRect.padding.left+a.axisY.labelOffset.x:d.x=this.chartRect.x2+a.axisY.labelOffset.x+10),n.showGrid&&function(e,t,a,i,n,s,r,o){const l={["".concat(a.units.pos,"1")]:e,["".concat(a.units.pos,"2")]:e,["".concat(a.counterUnits.pos,"1")]:i,["".concat(a.counterUnits.pos,"2")]:i+n},c=s.elem("line",l,r.join(" "));o.emit("draw",{type:"grid",axis:a,index:t,group:s,element:c,...l})}(o,l,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[a.classNames.grid,a.classNames[this.units.dir]],i),n.showLabel&&function(e,t,a,i,n,s,r,o,l,c){const d={[n.units.pos]:e+r[n.units.pos],[n.counterUnits.pos]:r[n.counterUnits.pos],[n.units.len]:t,[n.counterUnits.len]:Math.max(0,s-10)},u=Math.round(d[n.units.len]),h=Math.round(d[n.counterUnits.len]),p=document.createElement("span");p.className=l.join(" "),p.style[n.units.len]=u+"px",p.style[n.counterUnits.len]=h+"px",p.textContent=String(i);const m=o.foreignObject(p,{style:"overflow: visible;",...d});c.emit("draw",{type:"label",axis:n,index:a,group:o,element:m,text:i,...d})}(o,u,l,c,this,n.offset,d,t,[a.classNames.label,a.classNames[this.units.dir],"start"===n.position?a.classNames[n.position]:a.classNames.end],i))}))}constructor(e,t,a){this.units=e,this.chartRect=t,this.ticks=a,this.counterUnits=e===D.x?D.y:D.x,this.axisLength=t[this.units.rectEnd]-t[this.units.rectStart],this.gridOffset=t[this.units.rectOffset]}}class U extends K{projectValue(e){const t=Number(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";return function(e){return"object"==typeof e&&null!==e&&(Reflect.has(e,"x")||Reflect.has(e,"y"))}(e)&&f(e,t)?w(e[t]):w(e)}(e,this.units.pos));return this.axisLength*(t-this.bounds.min)/this.bounds.range}constructor(e,t,a,i){const n=i.highLow||x(t,i,e.pos),s=function(e,t,a){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n={high:t.high,low:t.low,valueRange:0,oom:0,step:0,min:0,max:0,range:0,numberOfSteps:0,values:[]};var s;n.valueRange=n.high-n.low,n.oom=(s=n.valueRange,Math.floor(Math.log(Math.abs(s))/Math.LN10)),n.step=Math.pow(10,n.oom),n.min=Math.floor(n.low/n.step)*n.step,n.max=Math.ceil(n.high/n.step)*n.step,n.range=n.max-n.min,n.numberOfSteps=Math.round(n.range/n.step);const r=l(e,n.step,n)<a,d=i?function(e){if(1===e)return e;function t(e,a){return e%a==0?a:t(a,e%a)}function a(e){return e*e+1}let i,n=2,s=2;if(e%2==0)return 2;do{n=a(n)%e,s=a(a(s))%e,i=t(Math.abs(n-s),e)}while(1===i);return i}(n.range):0;if(i&&l(e,1,n)>=a)n.step=1;else if(i&&d<n.step&&l(e,d,n)>=a)n.step=d;else{let t=0;for(;;){if(r&&l(e,n.step,n)<=a)n.step*=2;else{if(r||!(l(e,n.step/2,n)>=a))break;if(n.step/=2,i&&n.step%1!=0){n.step*=2;break}}if(t++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}}function u(e,t){return e===(e+=t)&&(e*=1+(t>0?o:-o)),e}n.step=Math.max(n.step,o);let h=n.min,p=n.max;for(;h+n.step<=n.low;)h=u(h,n.step);for(;p-n.step>=n.high;)p=u(p,-n.step);n.min=h,n.max=p,n.range=n.max-n.min;const m=[];for(let e=n.min;e<=n.max;e=u(e,n.step)){const t=c(e);t!==m[m.length-1]&&m.push(t)}return n.values=m,n}(a[e.rectEnd]-a[e.rectStart],n,i.scaleMinSpace||20,i.onlyInteger),r={min:s.min,max:s.max};super(e,a,s.values),this.bounds=s,this.range=r}}class X extends K{projectValue(e,t){return this.stepLength*t}constructor(e,t,a,i){const n=i.ticks||[];super(e,a,n);const s=Math.max(1,n.length-(i.stretch?1:0));this.stepLength=this.axisLength/s,this.stretch=Boolean(i.stretch)}}const Y={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:h,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:h,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};class G extends V{createChart(e){const{data:t}=this,a=b(t,e.reverseData,e.horizontalBars?"x":"y",!0),i=O(this.container,e.width,e.height,e.classNames.chart+(e.horizontalBars?" "+e.classNames.horizontalBars:"")),n=e.stackBars&&!0!==e.stackMode&&a.series.length?x([(s=a.series,o=s,l=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Array.from(t).reduce(((e,t)=>({x:e.x+(f(t,"x")?t.x:0),y:e.y+(f(t,"y")?t.y:0)})),{x:0,y:0})},p(Math.max(...o.map((e=>e.length))),(e=>l(...o.map((t=>t[e]))))))],e,e.horizontalBars?"x":"y"):x(a.series,e,e.horizontalBars?"x":"y");var s,o,l;this.svg=i;const c=i.elem("g").addClass(e.classNames.gridGroup),d=i.elem("g"),u=i.elem("g").addClass(e.classNames.labelGroup);"number"==typeof e.high&&(n.high=e.high),"number"==typeof e.low&&(n.low=e.low);const h=N(i,e);let m;const y=e.distributeSeries&&e.stackBars?a.labels.slice(0,1):a.labels;let w,v,k;e.horizontalBars?(m=v=void 0===e.axisX.type?new U(D.x,a.series,h,{...e.axisX,highLow:n,referenceValue:0}):new e.axisX.type(D.x,a.series,h,{...e.axisX,highLow:n,referenceValue:0}),w=k=void 0===e.axisY.type?new X(D.y,a.series,h,{ticks:y}):new e.axisY.type(D.y,a.series,h,e.axisY)):(w=v=void 0===e.axisX.type?new X(D.x,a.series,h,{ticks:y}):new e.axisX.type(D.x,a.series,h,e.axisX),m=k=void 0===e.axisY.type?new U(D.y,a.series,h,{...e.axisY,highLow:n,referenceValue:0}):new e.axisY.type(D.y,a.series,h,{...e.axisY,highLow:n,referenceValue:0}));const z=e.horizontalBars?h.x1+m.projectValue(0):h.y1-m.projectValue(0),E="accumulate"===e.stackMode,j="accumulate-relative"===e.stackMode,A=[],L=[];let M=A;w.createGridAndLabels(c,u,e,this.eventEmitter),m.createGridAndLabels(c,u,e,this.eventEmitter),e.showGridBackground&&function(e,t,a,i){const n=e.elem("rect",{x:t.x1,y:t.y2,width:t.width(),height:t.height()},a,!0);i.emit("draw",{type:"gridBackground",group:e,element:n})}(c,h,e.classNames.gridBackground,this.eventEmitter),function(e,t){let a=0;e[arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"reduceRight":"reduce"](((e,i,n)=>t(i,a++,n)),void 0)}(t.series,((i,n)=>{const s=n-(t.series.length-1)/2;let o;o=e.distributeSeries&&!e.stackBars?w.axisLength/a.series.length/2:e.distributeSeries&&e.stackBars?w.axisLength/2:w.axisLength/a.series[n].length/2;const l=d.elem("g"),c=f(i,"name")&&i.name,u=f(i,"className")&&i.className,p=f(i,"meta")?i.meta:void 0;c&&l.attr({"ct:series-name":c}),p&&l.attr({"ct:meta":S(p)}),l.addClass([e.classNames.series,u||"".concat(e.classNames.series,"-").concat(r(n))].join(" ")),a.series[n].forEach(((t,r)=>{const c=f(t,"x")&&t.x,d=f(t,"y")&&t.y;let u,p;u=e.distributeSeries&&!e.stackBars?n:e.distributeSeries&&e.stackBars?0:r,p=e.horizontalBars?{x:h.x1+m.projectValue(c||0,r,a.series[n]),y:h.y1-w.projectValue(d||0,u,a.series[n])}:{x:h.x1+w.projectValue(c||0,u,a.series[n]),y:h.y1-m.projectValue(d||0,r,a.series[n])},w instanceof X&&(w.stretch||(p[w.units.pos]+=o*(e.horizontalBars?-1:1)),p[w.units.pos]+=e.stackBars||e.distributeSeries?0:s*e.seriesBarDistance*(e.horizontalBars?-1:1)),j&&(M=d>=0||c>=0?A:L);const y=M[r]||z;if(M[r]=y-(z-p[w.counterUnits.pos]),void 0===t)return;const x={["".concat(w.units.pos,"1")]:p[w.units.pos],["".concat(w.units.pos,"2")]:p[w.units.pos]};e.stackBars&&(E||j||!e.stackMode)?(x["".concat(w.counterUnits.pos,"1")]=y,x["".concat(w.counterUnits.pos,"2")]=M[r]):(x["".concat(w.counterUnits.pos,"1")]=z,x["".concat(w.counterUnits.pos,"2")]=p[w.counterUnits.pos]),x.x1=Math.min(Math.max(x.x1,h.x1),h.x2),x.x2=Math.min(Math.max(x.x2,h.x1),h.x2),x.y1=Math.min(Math.max(x.y1,h.y2),h.y1),x.y2=Math.min(Math.max(x.y2,h.y2),h.y1);const b=function(e,t){const a=Array.isArray(e)?e[t]:f(e,"data")?e.data[t]:null;return f(a,"meta")?a.meta:void 0}(i,r),O=l.elem("line",x,e.classNames.bar).attr({"ct:value":[c,d].filter(g).join(","),"ct:meta":S(b)});this.eventEmitter.emit("draw",{type:"bar",value:t,index:r,meta:b,series:i,seriesIndex:n,axisX:v,axisY:k,chartRect:h,group:l,element:O,...x})}))}),e.reverseData),this.eventEmitter.emit("created",{chartRect:h,axisX:v,axisY:k,svg:i,options:e})}constructor(e,t,a,i){super(e,t,Y,u({},Y,a),i),this.data=t}}const H={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:h,labelDirection:"neutral",ignoreEmptyValues:!1};function $(e,t,a){const i=t.x>e.x;return i&&"explode"===a||!i&&"implode"===a?"start":i&&"implode"===a||!i&&"explode"===a?"end":"middle"}class F extends V{createChart(e){const{data:t}=this,a=b(t),i=[];let n,o,l=e.startAngle;const c=O(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie);this.svg=c;const u=N(c,e);let h=Math.min(u.width()/2,u.height()/2);const p=e.total||a.series.reduce(m,0),g=s(e.donutWidth);"%"===g.unit&&(g.value*=h/100),h-=e.donut?g.value/2:0,o="outside"===e.labelPosition||e.donut?h:"center"===e.labelPosition?0:h/2,e.labelOffset&&(o+=e.labelOffset);const w={x:u.x1+u.width()/2,y:u.y2+u.height()/2},v=1===t.series.filter((e=>f(e,"value")?0!==e.value:0!==e)).length;t.series.forEach(((e,t)=>i[t]=c.elem("g"))),e.showLabel&&(n=c.elem("g")),t.series.forEach(((s,c)=>{var m,x;if(0===a.series[c]&&e.ignoreEmptyValues)return;const b=f(s,"name")&&s.name,k=f(s,"className")&&s.className,z=f(s,"meta")?s.meta:void 0;b&&i[c].attr({"ct:series-name":b}),i[c].addClass([null===(m=e.classNames)||void 0===m?void 0:m.series,k||"".concat(null===(x=e.classNames)||void 0===x?void 0:x.series,"-").concat(r(c))].join(" "));let E=p>0?l+a.series[c]/p*360:0;const j=Math.max(0,l-(0===c||v?0:.2));E-j>=359.99&&(E=j+359.99);const A=d(w.x,w.y,h,j),L=d(w.x,w.y,h,E),M=new q(!e.donut).move(L.x,L.y).arc(h,h,0,Number(E-l>180),0,A.x,A.y);e.donut||M.line(w.x,w.y);const O=i[c].elem("path",{d:M.stringify()},e.donut?e.classNames.sliceDonut:e.classNames.slicePie);if(O.attr({"ct:value":a.series[c],"ct:meta":S(z)}),e.donut&&O.attr({style:"stroke-width: "+g.value+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:a.series[c],totalDataSum:p,index:c,meta:z,series:s,group:i[c],element:O,path:M.clone(),center:w,radius:h,startAngle:l,endAngle:E,chartRect:u}),e.showLabel){let i,r;i=1===t.series.length?{x:w.x,y:w.y}:d(w.x,w.y,o,l+(E-l)/2),r=a.labels&&!y(a.labels[c])?a.labels[c]:a.series[c];const h=e.labelInterpolationFnc(r,c);if(h||0===h){const t=n.elem("text",{dx:i.x,dy:i.y,"text-anchor":$(w,i,e.labelDirection)},e.classNames.label).text(String(h));this.eventEmitter.emit("draw",{type:"label",index:c,group:n,element:t,text:""+h,chartRect:u,series:s,meta:z,...i})}}l=E})),this.eventEmitter.emit("created",{chartRect:u,svg:c,options:e})}constructor(e,t,a,i){super(e,t,H,u({},H,a),i),this.data=t}}const Q={pis:35.38,ko:30.7,td:14.4,lewica:8.61,konfederacja:7.16},W=[{id:"pis",name:"Prawo i Sprawiedliwość",shortName:"PiS",threshold:5,pastSupportEquivalence:[["pis",1]]},{id:"ko",name:"Koalicja Obywatelska",shortName:"KO",threshold:8,pastSupportEquivalence:[["ko",1]]},{id:"pl2050",name:"Polska 2050",shortName:"PL2050",threshold:5,pastSupportEquivalence:[["td",1]]},{id:"psl",name:"Polskie Stronnictwo Ludowe",shortName:"PSL",threshold:5,pastSupportEquivalence:[["td",1]]},{id:"lewica",name:"Lewica",shortName:"Lew.",threshold:5,pastSupportEquivalence:[["lewica",1]]},{id:"razem",name:"Partia Razem",shortName:"Razem",threshold:5,pastSupportEquivalence:[["ko",.32],["pis",.05],["konfederacja",.03],["td",.19],["lewica",.41]]},{id:"konfederacja",name:"Konfederacja",shortName:"Konf.",threshold:5,pastSupportEquivalence:[["konfederacja",1]]},{id:"korona",name:"Konfederacja Korony Polskiej",shortName:"Korona",threshold:5,pastSupportEquivalence:[["ko",.07],["pis",.31],["konfederacja",.55],["td",.05],["lewica",.02]]},{id:"mn",name:"Mniejszość Niemiecka",shortName:"MN",threshold:0,pastSupportEquivalence:[]}],J=["razem","lewica","ko","mn","pl2050","psl","pis","konfederacja","korona"],Z=[{name:"Legnica",size:12,pastSupport:{pis:34.8,ko:33.78,td:10.75,lewica:9.51,konfederacja:6.33}},{name:"Wałbrzych",size:8,pastSupport:{ko:37.17,pis:33.34,td:12.13,lewica:7.98,konfederacja:6.02}},{name:"Wrocław",size:14,pastSupport:{ko:36.94,pis:26.66,td:13.74,lewica:11.35,konfederacja:6.98}},{name:"Bydgoszcz",size:12,pastSupport:{ko:35.01,pis:30.45,td:15.06,lewica:9.92,konfederacja:6.42}},{name:"Toruń",size:13,pastSupport:{pis:34.06,ko:29.52,td:15.68,lewica:11.25,konfederacja:6.37}},{name:"Lublin",size:15,pastSupport:{pis:45.48,ko:20.32,td:15.87,konfederacja:8.38,lewica:5.72}},{name:"Chełm",size:12,pastSupport:{pis:50.75,ko:17.4,td:13.04,konfederacja:7.79,lewica:5.62}},{name:"Zielona Góra",size:12,pastSupport:{ko:37.73,pis:27.76,td:15.07,lewica:9.27,konfederacja:6.51}},{name:"Łódź",size:10,pastSupport:{ko:41.07,pis:26.82,lewica:12.22,td:11.89,konfederacja:5.57}},{name:"Piotrków Trybunalski",size:9,pastSupport:{pis:46.6,ko:21.69,td:13.73,konfederacja:7.62,lewica:6.39}},{name:"Sieradz",size:12,pastSupport:{pis:41.46,ko:25.89,td:14.5,lewica:7.73,konfederacja:6.82}},{name:"Chrzanów",size:8,pastSupport:{pis:42.86,ko:24.24,td:14.97,konfederacja:7.88,lewica:6.04}},{name:"Kraków",size:14,pastSupport:{ko:30.73,pis:30.68,td:16.86,lewica:11.04,konfederacja:7.71}},{name:"Nowy Sącz",size:10,pastSupport:{pis:53.73,ko:16.1,td:11.58,konfederacja:8.73,lewica:3.18}},{name:"Tarnów",size:9,pastSupport:{pis:48.67,td:18.64,ko:17.02,konfederacja:7.99,lewica:4}},{name:"Płock",size:10,pastSupport:{pis:44.11,ko:22.4,td:17.07,konfederacja:6.52,lewica:6.52}},{name:"Radom",size:9,pastSupport:{pis:48.68,ko:20.96,td:13.98,konfederacja:7.31,lewica:5.34}},{name:"Siedlce",size:12,pastSupport:{pis:48.62,ko:18.71,td:15.51,konfederacja:8.21,lewica:4.85}},{name:"Warszawa I",size:20,pastSupport:{ko:43.23,pis:20.14,lewica:13.45,td:13.25,konfederacja:7.24}},{name:"Warszawa II",size:12,pastSupport:{ko:35.23,pis:31.74,td:15.06,konfederacja:7.06,lewica:7.06}},{name:"Opole",size:12,pastSupport:{ko:33.59,pis:31.26,td:12.74,lewica:7.24,konfederacja:6.49}},{name:"Krosno",size:11,pastSupport:{pis:54.7,ko:15.85,td:13.79,konfederacja:8.62,lewica:4.47}},{name:"Rzeszów",size:15,pastSupport:{pis:51.6,ko:17.7,td:12.42,konfederacja:9.48,lewica:4.87}},{name:"Białystok",size:14,pastSupport:{pis:42.39,ko:20.84,td:18.86,konfederacja:9.79,lewica:4.84}},{name:"Gdańsk",size:12,pastSupport:{ko:41.7,pis:25.2,td:14.7,lewica:9.41,konfederacja:6.23}},{name:"Gdynia",size:14,pastSupport:{ko:37.91,pis:29.24,td:13.59,lewica:8.33,konfederacja:7.21}},{name:"Bielsko-Biała",size:9,pastSupport:{pis:36.71,ko:28.67,td:14.55,konfederacja:7.84,lewica:7.77}},{name:"Częstochowa",size:7,pastSupport:{pis:36.35,ko:29.11,td:14.72,lewica:9.41,konfederacja:6.56}},{name:"Gliwice",size:9,pastSupport:{ko:36.06,pis:30.16,td:13.34,lewica:9.21,konfederacja:6.95}},{name:"Rybnik",size:9,pastSupport:{pis:38.06,ko:29.98,td:12.45,konfederacja:8,lewica:6.84}},{name:"Katowice",size:12,pastSupport:{ko:36.79,pis:30.88,td:13.27,lewica:8.46,konfederacja:6.7}},{name:"Sosnowiec",size:9,pastSupport:{ko:30.3,pis:29.74,lewica:21.6,td:9.85,konfederacja:5.69}},{name:"Kielce",size:16,pastSupport:{pis:47.07,ko:20.93,td:13.8,lewica:6.83,konfederacja:6.55}},{name:"Elbląg",size:8,pastSupport:{pis:35.2,ko:31.87,td:15.4,lewica:8.11,konfederacja:6.54}},{name:"Olsztyn",size:10,pastSupport:{ko:33.07,pis:32.33,td:16.11,lewica:8.09,konfederacja:6.93}},{name:"Kalisz",size:12,pastSupport:{pis:35.85,ko:28.58,td:16.16,lewica:8.52,konfederacja:6.98}},{name:"Konin",size:9,pastSupport:{pis:38.69,ko:23.99,td:16.63,lewica:9.48,konfederacja:6.97}},{name:"Piła",size:9,pastSupport:{ko:34.87,pis:29.11,td:17.66,lewica:7.84,konfederacja:6.87}},{name:"Poznań",size:10,pastSupport:{ko:44.09,pis:19.57,td:16.54,lewica:12.31,konfederacja:5.9}},{name:"Koszalin",size:8,pastSupport:{ko:38.69,pis:31.36,td:12.35,lewica:8.72,konfederacja:6.02}},{name:"Szczecin",size:12,pastSupport:{ko:40.13,pis:28.79,td:12.62,lewica:9.39,konfederacja:5.94}}];var ee=a(438),te=a.n(ee),ae=a(50),ie=a.n(ae),ne=a(253),se=a.n(ne);const re=a.p+"images/c41.svg",{location:oe}=window;let le=null,ce=null;const de=e=>`${e.toLocaleString("pl",{minimumFractionDigits:0,maximumFractionDigits:1})}%`,ue=()=>{document.querySelectorAll("tr td:last-child").forEach((e=>{e.innerHTML=""})),le&&le.detach(),ce&&ce.detach();const e=document.getElementById("url");e&&(e.innerHTML=""),document.getElementById("support-bar-chart").innerHTML="",document.getElementById("division-pie-chart").innerHTML="";const t=document.getElementById("constituency-results");if(t&&(t.innerHTML=te()()),oe.search){const e=oe.href.split("?")[0];window.history.pushState("","",e)}},he=()=>{const e=document.querySelector("#support-form"),t=document.querySelectorAll("#support-form input"),a=Array.from(t).map((e=>parseFloat(e.value))).map((e=>Number.isNaN(e)?0:e));if(!((e,t,a)=>{t.forEach((e=>{e.setCustomValidity("")})),a.some(((e,a)=>e<0&&(t[a].setCustomValidity("Poparcie nie może byc mniejsze od 0%"),!0)));const i=a.reduce(((e,t)=>e+t),0);return i>100?t[0].setCustomValidity("Suma poparcia nie może przekraczać 100%"):i<=0&&t[0].setCustomValidity("Suma poparcia musi być wyższa niż 0%"),e.reportValidity()})(e,t,a))return;const i=(e=>{const t=W.map((e=>e.pastSupportEquivalence.map((e=>Q[e[0]]*e[1])).reduce(((e,t)=>e+t),0))),a=new Array(e.length+1).fill(0);return Z.forEach((i=>{const n=((e,t,a)=>{const i=a.pastSupport,n=W.map((e=>e.pastSupportEquivalence.map((e=>i[e[0]]*e[1])).reduce(((e,t)=>e+t),0))),s=t.map(((e,t)=>n[t]/e)),r=e.map(((e,t)=>e*s[t]));return"Opole"===a.name&&r.push(5.37),r})(e,t,i);i.support=n,i.mandates=new Array(n.length).fill(0);const s=n.map(((t,a)=>e[a]<W[a].threshold?0:t)),r=[];for(let e=1;e<=i.size;e+=1)for(let t=0;t<n.length;t+=1)r.push({quotient:s[t]/e,committeeIndex:t});r.sort(((e,t)=>t.quotient-e.quotient)),r.slice(0,i.size).forEach((e=>{e.quotient>0&&(a[e.committeeIndex]+=1,i.mandates[e.committeeIndex]+=1)}))})),a})(a);(e=>{e.forEach(((e,t)=>{const a=W[t].id,i=document.querySelector(`tr.${a} td:last-child`);i&&(i.textContent=e.toString()),5===t&&e>0&&i?.parentElement&&(i.parentElement.style.display="table-row")}))})(i),(e=>{if(document.getElementById("url")){const t=new URLSearchParams;e.forEach(((e,a)=>{e>0&&t.append(W[a].id,e.toString())}));const a=`${oe.href.split("?")[0]}?${t.toString()}`;document.getElementById("url").innerHTML=`Link do wyników: ${a.link(a)}`}})(a),le=(e=>{const t=W.map(((t,a)=>({label:t.shortName,support:{value:e[a],className:t.id}}))).filter((e=>e.support.value&&e.support.value>0)).sort(((e,t)=>t.support.value-e.support.value)),a={labels:t.map((e=>e.label)),series:t.map((e=>e.support))},i={distributeSeries:!0,axisY:{labelInterpolationFnc:de}};document.getElementById("support-bar-chart").classList.add("ct-perfect-fourth");const n=new G("#support-bar-chart",a,i);return n.on("draw",(e=>{"bar"===e.type&&(e.element.attr({style:"stroke-width: 30px"}),e.group.append(new M("text",{x:e.x2+15,y:e.y2-5,"text-anchor":"end"},"bar-value").text(de(e.value.y))))})),n})(a),ce=(e=>{const t=W.map(((t,a)=>({id:t.id,label:t.shortName,mandates:{value:e[a],className:t.id}}))).filter((e=>e.mandates.value&&e.mandates.value>0));t.sort(((e,t)=>J.indexOf(e.id)>J.indexOf(t.id)?1:-1));const a={series:t.map((e=>e.mandates))},i={donut:!0,donutWidth:60,startAngle:270,total:920,labelInterpolationFnc:(e,a)=>e<15?"":`${t[a].label} ${e}`};return document.getElementById("division-pie-chart").classList.add("ct-perfect-fourth"),new F("#division-pie-chart",a,i)})(i),(()=>{const e=document.getElementById("constituency-results");if(e){e.innerHTML=te()();const t=document.getElementById("constituency-result"),a=document.getElementById("constituencies-map");a.setAttribute("data",re),a.addEventListener("load",(()=>{const e=a.contentDocument,i=e.getElementById("constituency-number"),n=e.getElementById("constituency-name");e.querySelectorAll("svg path").forEach((e=>{const a=parseInt(e.dataset.cid,10),s=Z[a-1],r=s.mandates&&s.support?s.mandates.map(((e,t)=>({committee:W[t],support:s.support[t],mandates:e}))):[];r.sort(((e,t)=>t.support-e.support)),r[0].support===r[1].support?e.style.fill="lightgray":(e.classList.add(r[0].committee.id),r[0].support>=50?e.classList.add("bright50"):r[0].support<40&&e.classList.add("bright30")),e.addEventListener("mouseover",(e=>{const t=e.target;t.style.stroke="#444",i.innerHTML=`Okręg nr ${t.dataset.cid}`,n.innerHTML=t.dataset.cname})),e.addEventListener("mouseout",(e=>{e.target.style.stroke="#fff",i.innerHTML="",n.innerHTML=""})),e.addEventListener("click",(e=>{e.target.style.stroke="#ccc",t.innerHTML=ie()({number:a,name:s.name,size:s.size,data:r})}))}))}))}})(),t.forEach((e=>{e.addEventListener("input",(()=>{ue()}))}))},pe=()=>{document.getElementById("support-form").insertAdjacentHTML("afterbegin",se()({committees:W}))},me=()=>{oe.search&&(new URLSearchParams(oe.search).forEach(((e,t)=>{const a=document.querySelector(`tr.${t} td:nth-child(2) input`);a&&(a.value=e)})),he())};var fe=a(587),ge=a.n(fe);const ye=()=>{document.body.innerHTML=ge()({embed:"#embed"===window.location.hash})},we=e=>{e.preventDefault(),he()};document.addEventListener("DOMContentLoaded",(()=>{ye(),pe(),me(),document.querySelector("#calculate-button").addEventListener("click",we)})),window.addEventListener("popstate",(()=>{window.location.search?me():(document.querySelectorAll("tr td:nth-child(2) input").forEach((e=>{e.value=""})),ue())})),window.addEventListener("hashchange",(()=>{ye(),pe(),me()}))})()})();